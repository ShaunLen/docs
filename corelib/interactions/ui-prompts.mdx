---
title: "Interaction UI Prompts"
icon: "window"
description: "Building user interface for interaction prompts"
---

<Info>
This page covers how to build UI that displays available interactions to players.
</Info>

---

## Prompt data binding

The Interaction System provides data for UI binding:

```csharp
public class InteractionPromptData
{
    public bool HasInteraction { get; set; }
    public string DisplayName { get; set; }
    public string InputHint { get; set; }
    public string Icon { get; set; }
    public bool IsValid { get; set; }
    public string ValidationMessage { get; set; }
    public float HoldProgress { get; set; }
    public Vector3 WorldPosition { get; set; }
}
```

---

## Basic prompt UI

```csharp
public class InteractionPromptPanel : Panel
{
    private Label _actionLabel;
    private Label _inputLabel;
    private Panel _progressBar;

    protected override void OnBuild()
    {
        _actionLabel = Add.Label("", "action-name");
        _inputLabel = Add.Label("", "input-hint");
        _progressBar = Add.Panel("progress-bar");
        _progressBar.Style.Width = Length.Percent(0);
    }

    public void Update(InteractionPromptData data)
    {
        SetVisible(data.HasInteraction);

        if (!data.HasInteraction)
            return;

        _actionLabel.Text = data.DisplayName;
        _inputLabel.Text = data.InputHint;

        // Show progress for hold interactions
        _progressBar.SetVisible(data.HoldProgress > 0);
        _progressBar.Style.Width = Length.Percent(data.HoldProgress * 100);

        // Style based on validity
        SetClass("invalid", !data.IsValid);
    }
}
```

### Styles

```scss
.interaction-prompt {
    position: absolute;
    background: rgba(0, 0, 0, 0.7);
    padding: 12px 16px;
    border-radius: 8px;

    .action-name {
        font-size: 16px;
        font-weight: bold;
        color: white;
    }

    .input-hint {
        font-size: 12px;
        color: #aaa;
        margin-top: 4px;
    }

    .progress-bar {
        height: 4px;
        background: #4ade80;
        margin-top: 8px;
        border-radius: 2px;
        transition: width 0.1s;
    }

    &.invalid {
        .action-name {
            color: #f87171;
        }
    }
}
```

---

## World-space prompts

Position prompts in world space:

```csharp
public class WorldSpacePrompt : Panel
{
    public void UpdatePosition(InteractionPromptData data, Camera camera)
    {
        if (!data.HasInteraction)
        {
            SetVisible(false);
            return;
        }

        // Convert world position to screen
        var screenPos = camera.ToScreen(data.WorldPosition);

        // Check if on screen
        if (screenPos.z < 0)
        {
            SetVisible(false);
            return;
        }

        SetVisible(true);

        // Position the panel
        Style.Left = Length.Fraction(screenPos.x);
        Style.Top = Length.Fraction(screenPos.y);

        // Optional: Scale based on distance
        var distance = Vector3.Distance(camera.Position, data.WorldPosition);
        var scale = Math.Clamp(1f / (distance * 0.1f), 0.5f, 1.5f);
        Style.Transform = new Transform2D().WithScale(scale);
    }
}
```

---

## Device-aware input hints

Show appropriate hints based on input device:

```csharp
public class InputHintDisplay : Panel
{
    private Image _keyboardIcon;
    private Image _gamepadIcon;
    private Label _keyLabel;

    public void SetAction(string actionId)
    {
        var lastDevice = InputSystem.LastActiveDevice;
        var binding = InputSystem.GetBinding(actionId, lastDevice);

        if (lastDevice == InputDevice.Gamepad)
        {
            _keyboardIcon.SetVisible(false);
            _gamepadIcon.SetVisible(true);
            _gamepadIcon.SetTexture(GetGamepadIcon(binding));
        }
        else
        {
            _gamepadIcon.SetVisible(false);
            _keyboardIcon.SetVisible(true);
            _keyLabel.Text = binding.DisplayName;
        }
    }

    private Texture GetGamepadIcon(InputBinding binding)
    {
        return binding.Source.SourceId switch
        {
            "A" => GamepadIcons.A,
            "B" => GamepadIcons.B,
            "X" => GamepadIcons.X,
            "Y" => GamepadIcons.Y,
            _ => GamepadIcons.Generic
        };
    }
}
```

---

## Multiple interaction prompts

When multiple interactions are available:

<Tabs>
  <Tab title="Radial menu">
    ```csharp
    public class InteractionRadialMenu : Panel
    {
        private List<RadialMenuItem> _items = new();

        public void Show(IEnumerable<InteractionPromptData> interactions)
        {
            Clear();

            var count = interactions.Count();
            var angleStep = 360f / count;
            var angle = -90f; // Start at top

            foreach (var interaction in interactions)
            {
                var item = new RadialMenuItem();
                item.Setup(interaction, angle);
                _items.Add(item);
                Add(item);

                angle += angleStep;
            }

            SetVisible(true);
        }
    }
    ```
  </Tab>
  <Tab title="List">
    ```csharp
    public class InteractionListMenu : Panel
    {
        public void Show(IEnumerable<InteractionPromptData> interactions)
        {
            Clear();

            foreach (var interaction in interactions)
            {
                var item = new InteractionListItem();
                item.Setup(interaction);
                Add(item);
            }

            SetVisible(true);
        }
    }
    ```
  </Tab>
</Tabs>

---

## Hold progress visualisation

Various ways to show hold progress:

<CardGroup cols={2}>
  <Card title="Progress bar" icon="bars-progress">
    ```csharp
    _progressBar.Style.Width =
        Length.Percent(progress * 100);
    ```
  </Card>
  <Card title="Circular" icon="circle-notch">
    ```csharp
    _circleProgress.SetProgress(progress);
    // Uses conic-gradient or SVG
    ```
  </Card>
  <Card title="Fill" icon="droplet">
    ```csharp
    _fillOverlay.Style.Height =
        Length.Percent(progress * 100);
    ```
  </Card>
  <Card title="Countdown" icon="clock">
    ```csharp
    var remaining = duration * (1 - progress);
    _timeLabel.Text = $"{remaining:F1}s";
    ```
  </Card>
</CardGroup>

### Circular progress example

```csharp
public class CircularProgress : Panel
{
    public void SetProgress(float progress)
    {
        // Using conic gradient
        var degrees = progress * 360;
        Style.BackgroundImage = $"conic-gradient(#4ade80 {degrees}deg, transparent 0)";
    }
}
```

---

## Validation feedback

Show why interactions fail:

```csharp
public class InteractionPromptWithFeedback : Panel
{
    private Label _validationMessage;
    private Panel _validationIcon;

    public void Update(InteractionPromptData data)
    {
        if (!data.IsValid && !string.IsNullOrEmpty(data.ValidationMessage))
        {
            _validationMessage.SetVisible(true);
            _validationMessage.Text = data.ValidationMessage;

            // Animate attention
            AddClass("shake");
            _ = Task.Delay(300).ContinueWith(_ => RemoveClass("shake"));
        }
        else
        {
            _validationMessage.SetVisible(false);
        }
    }
}
```

### Validation styles

```scss
.validation-message {
    color: #f87171;
    font-size: 12px;
    margin-top: 4px;
}

.shake {
    animation: shake 0.3s ease-in-out;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}
```

---

## Complete example

```csharp
public class InteractionHUD : Panel
{
    private InteractionPromptPanel _prompt;
    private InteractionListMenu _multiPrompt;

    protected override void OnBuild()
    {
        _prompt = new InteractionPromptPanel();
        Add(_prompt);

        _multiPrompt = new InteractionListMenu();
        Add(_multiPrompt);
    }

    protected override void Tick()
    {
        var provider = Local.Pawn?.Components.Get<InteractionProvider>();
        if (provider == null)
        {
            _prompt.SetVisible(false);
            _multiPrompt.SetVisible(false);
            return;
        }

        var interactions = provider.AvailableInteractions.ToList();

        if (interactions.Count == 0)
        {
            _prompt.SetVisible(false);
            _multiPrompt.SetVisible(false);
        }
        else if (interactions.Count == 1)
        {
            _multiPrompt.SetVisible(false);
            _prompt.Update(interactions[0]);
        }
        else
        {
            _prompt.SetVisible(false);
            _multiPrompt.Show(interactions);
        }
    }
}
```

---

## Best practices

<AccordionGroup>
  <Accordion title="Keep prompts readable" icon="eye">
    - Use clear, concise text
    - Ensure good contrast
    - Don't overlap with gameplay
  </Accordion>

  <Accordion title="Show appropriate hints" icon="gamepad">
    - Display correct device icons
    - Update when device changes
    - Support rebinding display
  </Accordion>

  <Accordion title="Provide feedback" icon="comment">
    - Show why interactions fail
    - Animate state changes
    - Confirm successful interactions
  </Accordion>

  <Accordion title="Performance" icon="bolt">
    - Don't update every frame unless needed
    - Cache UI elements
    - Use efficient layout
  </Accordion>
</AccordionGroup>

---

## Related pages

<CardGroup cols={2}>
  <Card title="Runtime Flow" icon="diagram-project" href="/corelib/interactions/runtime-flow">
    How interaction data is generated
  </Card>
  <Card title="Input Rebinding" icon="keyboard" href="/corelib/input/rebinding">
    Displaying rebindable controls
  </Card>
</CardGroup>
